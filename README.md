# Описание этапов работы
###### На данный момент все выполнено в .ipynb, для легкости проверки,  и многие блоки кода не определены функциями, все это будет сделано при переносе в .py
## 1.0 Парсинг дескрипторов
- Необходима проверка, что столбцы, кодирующие структуру вещества, имеют правильный формат. В нашем случае - string.
### 1.1 RDkit
Получение всех возможных дескрипторов с помощью ```Descriptors.descList```.
### 1.2 PubChemPy
Добавление дескрипторов, которые уникальны для PubChemPy:
```properties = ['XLogP',                # Коэффициент распределения октанол-вода (логарифмическое значение)
    'ExactMass',            # Точная масса
    'MonoisotopicMass',     # Моноизотопная масса
    'TPSA',                 # Полярная площадь поверхности
    'Complexity',           # Сложность структуры
    'Charge',               # Заряд молекулы
    'HBondDonorCount',      # Количество доноров водородных связей
    'HBondAcceptorCount',   # Количество акцепторов водородных связей
    'RotatableBondCount',   # Количество вращаемых связей
    'HeavyAtomCount',       # Количество тяжелых атомо
    'IsotopeAtomCount',     # Количество атомов изотопов
    'AtomStereoCount',      # Общее количество стереоатомов
    'DefinedAtomStereoCount',   # Определенное количество стереоатомов
    'UndefinedAtomStereoCount', # Неопределенное количество стереоатомов
    'BondStereoCount',          # Общее количество стереосвязей
    'DefinedBondStereoCount',   # Определенное количество стереосвязей
    'UndefinedBondStereoCount', # Неопределенное количество стереосвязей
    'CovalentUnitCount'        # Количество ковалентных единиц
```
### 1.3 Добавление одного нового вещества
- Эта функция работает только если для основного дата сета были определены дескрпиторы. После добавления вещества, все следующие этапы будут выполнены еще раз, так как новое вещество будет влиять на статистические данные и обработку данных в БД.
## 2.0 Предобработка данных
### 2.1 Валидация
- После добавления дескрипторов в базу данных, необходимо проверить, что все данные в нужном формате.
### 2.2 Обработка недостающих значений
- Если в столбце 70% пропусков - удаляем их, так как это высоко для статистических методов.
- Если в столбце менее 30% пропусков, можно заполнить их средними значениями. Для этого, в диалоговом окне необходимо написать "Да", любой другой ответ удалит этот столбец.
### 2.3 Поиск выбросов
- Выбросами считаются значения, если они вне полутора межквартального размаха (1,5 * IQR).
- Удаляются строки, если хоть одно значение в его дескрипторах является выбросом.
### 2.4 Обработка дубликатов
- Дубликаты удаляются
### 2.5 Анализ дисперсии
- Так как столбец ```'gap'``` является целевым, его значения не учитываются.
- Столбцы с дисперсией ниже 0.1 удаляются.
### 2.6 Корреляция
- Будут удалены все признаки, которые имеют коэффициент корреляции выше 0,9 с любым другим признаком.
### 2.7 Нормализация данных
-Используется ```MinMaxScaler``` маштабирование, которое переводит значения в каждом числовом столбце в диапазон от 0 до 1.

## 3.0 Проведение статистических тестов
### 3.1 Проводится распределение данных на нормальность.
- Тест Шапиро-Уилка.
### 3.2 Тест анализа различий между группами данных
- Выполняем независимый t-тест между колонками ```'gap'``` и ```'mu'```.
- ANOVA, для сравнения групп ```'gap', 'u0_atom', 'mu', df_after_FS```
# 4.0 Визуализация данных
## 4.1 Seaborn
- Гистограмма, показывает распределение значений в ```'gap'```
- Диаграмма рассеяния показывает зависимость между двумя переменными - ```'gap'``` и ```'u0'```
## 4.2 Plotly
- Boxplot для столбца ```'gap'```
- Диаграмма рассеяния ```'u0'``` от ```'gap'``` с линейной регрессией

# 5.0 Оформление работы
## 5.1 Структура файлов
- Описана в начальном README.md
## 5.2 Демонстрация работоспособности
- Использовать Result.ipynb

